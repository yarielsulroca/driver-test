<div class="categoria-creator-container">
  <!-- Header -->
  <div class="header">
    <div class="header-left">
      <button class="btn-back" (click)="cancelar()">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
        </svg>
        Volver
      </button>
      <h1>Crear Nueva Categoría</h1>
    </div>
  </div>

  <!-- Success Message -->
  <div *ngIf="success" class="success-message">
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <p>{{ success }}</p>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="error-message">
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <p>{{ error }}</p>
  </div>

  <!-- Form -->
  <div class="form-container">
    <form (ngSubmit)="crearCategoria()" #categoriaForm="ngForm">
      <div class="form-section">
        <h3>Información de la Categoría</h3>
        
        <div class="form-group">
          <label for="nombre">Nombre de la Categoría *</label>
          <input 
            type="text" 
            id="nombre" 
            name="nombre"
            [(ngModel)]="categoria.nombre" 
            required
            maxlength="100"
            class="form-input"
            placeholder="Ej: Vehículos Livianos"
            [class.is-invalid]="error && !categoria.nombre.trim()"
          >
        </div>

        <div class="form-group">
          <label for="descripcion">Descripción *</label>
          <textarea 
            id="descripcion" 
            name="descripcion"
            [(ngModel)]="categoria.descripcion" 
            required
            maxlength="255"
            rows="4"
            class="form-textarea"
            placeholder="Descripción detallada de la categoría"
            [class.is-invalid]="error && !categoria.descripcion.trim()"
          ></textarea>
        </div>

        <div class="form-group">
          <label for="estado">Estado</label>
          <select 
            id="estado" 
            name="estado"
            [(ngModel)]="categoria.estado" 
            class="form-select"
          >
            <option value="activo">Activo</option>
            <option value="inactivo">Inactivo</option>
          </select>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn-secondary" (click)="cancelar()" [disabled]="loading">
          Cancelar
        </button>
        <button type="submit" class="btn-primary" [disabled]="loading || !categoriaForm.form.valid">
          <div *ngIf="loading" class="loading-spinner-small"></div>
          <span *ngIf="!loading">Crear Categoría</span>
          <span *ngIf="loading">Creando...</span>
        </button>
      </div>
    </form>
  </div>
</div> 